@model SelectJquery.Models.ViewModel.StateProvinceViewModel

@{
    Layout = null;
}

@Html.DropDownListFor(p => p.SelectedStateProvinceID,
                          Model.StateProvinceIEnum,
                          "Select a State or Province",
                          new
                          {
                              @id = "StateProvince-DropDownID",
                              @class = "StateProvince-DropDownCls"
                          })
<!--Next, you need to add the JQuery functions to capture the change event of state/province drop down list and load data for city drop down list. Please, note that “CityContainer” is a div tag and will be defined in the Index.cshtml.-->
<script type="text/javascript">
    $(function () {
        // Populate City
        $('#StateProvince-DropDownID').change(function () {
            var selectedCountryID = $('#Country-DropdownID option:selected').val();
            var selectedStateProvinceID = this.value;
            $('#CityContainer').load("<a href='mailto:'@Url.Action("CityView")?countryID='">'@Url.Action("CityView")?countryID=' +
                                      selectedCountryID +'&stateprovinceID=' +
                                      selectedStateProvinceID);
 });
    });
</script>